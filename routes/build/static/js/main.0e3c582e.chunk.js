(this.webpackJsonpunify=this.webpackJsonpunify||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(25),c=a.n(s),i=a(11),o=a(15),u=a(16),l=a(18),p=a(17),j=a(10),d=a(8),b=a(2),h=a.n(b),x=a(3),O=a(7),m=a(0),f=function(e){var t=e.name,a=e.type,n=e.onChange,r=e.defaultValue;return Object(m.jsxs)("div",{className:"form-input",children:[Object(m.jsx)("label",{htmlFor:t,children:t}),Object(m.jsx)("input",{defaultValue:r,type:a,name:t,onChange:function(e){return n("date"===a?Date.parse(e.target.value):e.target.value)}})]})},v=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),o=i[0],u=i[1];return Object(m.jsxs)("div",{className:"login-form-wrapper",children:[Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsx)(f,{type:"email",name:"email",onChange:s}),Object(m.jsx)(f,{type:"password",name:"password",onChange:u})]}),Object(m.jsx)("button",{className:"login-submit-btn",onClick:function(){return e.onSubmit({email:r,password:o})},children:"Log in"}),Object(m.jsx)(j.b,{to:"/signup",children:"Don't have an account? Sign up here."})]})},g=a(5),y=a.n(g),k=function(e){return Object(m.jsxs)("div",{className:"navbar",children:[e.pfp&&Object(m.jsx)(j.b,{to:"/profile",children:Object(m.jsx)("button",{children:"Profile"})}),Object(m.jsx)(j.b,{to:"/login",children:e.text})]})},w=a(6),N=Object(n.createContext)({}),C=a(4);function S(){return(S=Object(x.a)(h.a.mark((function e(t,a,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,y.a.post("http://localhost:3000/users/login",t);case 7:r=e.sent,a(r.data.user_auth_token),n("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response?C.a.error(e.t0.response.data):C.a.error("There was an error connecting to the server");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.object({email:w.string().email({tlds:{allow:!1}}),password:w.string()}),e.prev=1,e.next=4,a.validateAsync(t);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),C.a.error(e.t0.details[0].message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var _=function(e){var t=Object(n.useContext)(N).setToken;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"login-page-wrapper",children:Object(m.jsx)(v,{onSubmit:function(a){return function(e,t,a){return S.apply(this,arguments)}(a,t,e.history.replace)}})})]})},A=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),o=i[0],u=i[1],l=Object(n.useState)(""),p=Object(O.a)(l,2),j=p[0],d=p[1];return Object(m.jsxs)("div",{className:"signup-form-wrapper",children:[Object(m.jsxs)("div",{className:"signup-form",children:[Object(m.jsx)(f,{name:"Username",type:"text",onChange:s}),Object(m.jsx)(f,{name:"Email",type:"email",onChange:u}),Object(m.jsx)(f,{name:"Password (Minimum 8 characters)",type:"password",onChange:d})]}),Object(m.jsx)("button",{onClick:function(){return e.onSubmit({username:r,email:o,password:j})},className:"signup-submit-btn",children:"Sign Up"})]})};C.a.configure();function P(){return(P=Object(x.a)(h.a.mark((function e(t,a,n){var r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,y.a.post("http://localhost:3000/users",t);case 7:if(200===(r=e.sent).status){e.next=11;break}return C.a.error("There was an error"),e.abrupt("return",new Promise((function(e,t){return e(void 0)})));case 11:s=r.data.user_auth_token,a(s),n("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),e.t0.response?C.a.error(e.t0.response.data):C.a.error("There was en error connecting to the server");case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.object({email:w.string().email({tlds:{allow:!1}}),username:w.string().min(6).max(255),password:w.string().min(6).max(255)}),e.prev=1,e.next=4,a.validateAsync(t);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),C.a.error(e.t0.details[0].message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var R=function(e){var t=Object(n.useContext)(N).setToken;return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(k,{}),Object(m.jsx)("div",{className:"signup-page-wrapper",children:Object(m.jsx)(A,{onSubmit:function(a){return function(e,t,a){return P.apply(this,arguments)}(a,t,e.history.replace)}})})]})};function q(e){var t=Date.parse(e)-Date.now(),a=Math.floor(t/864e5);return"".concat(Math.max(0,a)," days")}var V=function(e){var t=e.app;return Object(m.jsxs)("div",{onClick:function(){return e.onClick()},className:"app-view-item",children:[Object(m.jsx)("span",{children:t.uniName}),Object(m.jsx)("span",{children:t.programName}),Object(m.jsx)("span",{children:q(t.applicationOpenDate)}),Object(m.jsx)("span",{children:q(t.applicationCloseDate)})]})},M=a(21),G="http://localhost:3000",U=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={apps:[]},e.getApps=Object(x.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.token,t.next=4,y.a.get(G+"/applications",{headers:{user_auth_token:a}});case 4:n=t.sent,r=n.data,e.setState({apps:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),C.a.error("There was an error connecting to the server");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getApps();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 0===this.state.apps.length?Object(m.jsxs)("div",{className:"app-box-wrapper app-box-wrapper-no-apps",children:[Object(m.jsx)("h2",{className:"no-apps-message",children:" No Applications To Show!"}),Object(m.jsxs)("button",{className:"app-add-button",onClick:function(){return e.props.nextPage("/applications/add")},children:["Create New Application",Object(m.jsx)(M.b,{})]})]}):Object(m.jsxs)("div",{className:"app-box-wrapper",children:[Object(m.jsx)("h2",{children:"Your Applications"}),Object(m.jsxs)("div",{className:"app-box-title",children:[Object(m.jsx)("span",{children:"University Name"}),Object(m.jsx)("span",{children:"Program Name"}),Object(m.jsx)("span",{children:"Applications Open"}),Object(m.jsx)("span",{children:"Applications Close"})]}),this.state.apps.map((function(t){return Object(m.jsx)(V,{onClick:function(){e.props.nextPage("/applications/"+t._id)},app:t},t._id)})),Object(m.jsxs)("button",{className:"app-add-button",onClick:function(){return e.props.nextPage("/applications/add")},children:["Create New Application",Object(m.jsx)(M.b,{})]})]})}}]),a}(n.Component),B=function(e){var t=e.EC,a=e.onClick;return Object(m.jsx)("div",{onClick:function(){return a("/extracurriculars/"+t._id)},className:"ec-view-item",children:Object(m.jsx)("span",{children:t.name})})},J="http://localhost:3000",I=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={ECs:[]},e.getECdata=Object(x.a)(h.a.mark((function t(){var a,n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.props.token,t.next=4,y.a.get(J+"/extracurriculars",{headers:{user_auth_token:a}});case 4:n=t.sent,r=n.data,e.setState({ECs:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),C.a.error("There was an error connecting to the server");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getECdata();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"ec-box-wrapper",children:[Object(m.jsx)("h2",{children:"Your Extracurriculars"}),this.state.ECs.map((function(t){return Object(m.jsx)(B,{onClick:e.props.nextPage,EC:t},t._id)})),Object(m.jsxs)("button",{className:"ec-add-button",onClick:function(){return e.props.nextPage("/extracurriculars/add")},children:["Add Extracurriculars",Object(m.jsx)(M.b,{})]})]})}}]),a}(n.Component),L=function(e){var t=Object(n.useContext)(N).token;return t?Object(m.jsx)("div",{className:"homepage-wrapper",children:Object(m.jsxs)("div",{className:"homepage",children:[Object(m.jsx)(k,{pfp:!0,text:"Log out"}),Object(m.jsx)(U,{token:t,nextPage:e.history.push}),Object(m.jsx)(I,{token:t,nextPage:e.history.push})]})}):Object(m.jsx)(d.a,{to:"/login"})};function Y(){return(Y=Object(x.a)(h.a.mark((function e(t,a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("http://localhost:3000/applications/"+t._id,{headers:{user_auth_token:a}});case 3:n("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),C.a.error("There was an error deleting your application");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(){return(X=Object(x.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:3000/applications/"+a,{headers:{user_auth_token:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var z=function(e){var t=e.match.params.id,a=Object(n.useContext)(N).token,r=Object(n.useState)(),s=Object(O.a)(r,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){(function(e,t){return X.apply(this,arguments)})(a,t).then((function(e){return i(e)}))}),[i,a,t]),a?c?Object(m.jsx)("div",{className:"app-page-wrapper",children:Object(m.jsxs)("div",{className:"app-page",children:[Object(m.jsxs)("div",{className:"app-page-heading-wrapper",children:[Object(m.jsx)("h2",{children:c.uniName}),Object(m.jsx)("h4",{children:c.programName})]}),Object(m.jsxs)("div",{className:"app-dates",children:[Object(m.jsxs)("div",{children:["Application opens: ",c.applicationOpenDate.substr(0,10)," (",q(c.applicationOpenDate),")"]}),Object(m.jsxs)("div",{children:["Application closes: ",c.applicationCloseDate.substr(0,10)," (",q(c.applicationCloseDate),")"]}),Object(m.jsxs)("div",{children:["Expected response date: ",c.expectedResponseDate.substr(0,10)," (",q(c.expectedResponseDate),")"]})]}),Object(m.jsxs)("div",{className:"app-page-ec-wrapper",children:[Object(m.jsx)("h4",{children:"Relevant Extracurriculars"}),Object(m.jsx)("div",{className:"app-page-ecs",children:c.relevantExtracurriculars.map((function(t){return Object(m.jsx)("div",{onClick:function(){e.history.push("/extracurriculars/"+t._id)},children:t.name},t._id)}))})]}),Object(m.jsxs)("div",{className:"app-page-notes",children:[Object(m.jsx)("h4",{children:"Notes"}),c.notes]}),Object(m.jsx)("button",{className:"app-delete-button",onClick:function(){return function(e,t,a){return Y.apply(this,arguments)}(c,a,e.history.replace)},children:"Delete"})]})}):Object(m.jsx)("div",{children:"No App Found"}):Object(m.jsx)(d.a,{to:"/login"})},H=(a(98),"http://localhost:3000");function K(){return(K=Object(x.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(H+"/extracurriculars/"+a,{headers:{user_auth_token:t}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Q(){return(Q=Object(x.a)(h.a.mark((function e(t,a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete(H+"/extracurriculars/"+t._id,{headers:{user_auth_token:a}});case 3:n("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),C.a.error(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var W=function(e){var t=e.match.params.id,a=Object(n.useContext)(N).token,r=Object(n.useState)(),s=Object(O.a)(r,2),c=s[0],i=s[1];return Object(n.useEffect)((function(){(function(e,t){return K.apply(this,arguments)})(a,t).then((function(e){return i(e)}))}),[i,a,t]),a?c?Object(m.jsx)("div",{className:"ec-page-wrapper",children:Object(m.jsxs)("div",{className:"ec-page",children:[Object(m.jsx)("h2",{children:c.name}),Object(m.jsx)("h5",{children:"Description"}),Object(m.jsx)("p",{children:c.description}),Object(m.jsxs)("div",{className:"ec-dates",children:[Object(m.jsxs)("span",{children:["Date Started: ",new Date(Date.parse(c.dateStarted)).toDateString()]}),Object(m.jsx)("span",{children:c.onGoing?"Date ended: This extracurricular is ongoing":"Date ended: ".concat(new Date(Date.parse(c.dateEnded)).toDateString())})]}),Object(m.jsxs)("div",{className:"ec-references",children:[Object(m.jsx)("h4",{children:"References:"}),c.references&&c.references.map((function(e){return Object(m.jsxs)("div",{className:"ec-reference-info",children:[Object(m.jsx)("span",{children:e.name}),Object(m.jsx)("span",{children:e.email}),Object(m.jsx)("span",{children:e.phoneNumber})]},e.name)})),c.references&&0===c.references.length&&Object(m.jsx)("h3",{children:"No references"})]}),Object(m.jsx)("button",{className:"ec-delete",onClick:function(){return function(e,t,a){return Q.apply(this,arguments)}(c,a,e.history.replace)},children:"Delete"})]})}):Object(m.jsx)("div",{children:"No EC Found"}):Object(m.jsx)(d.a,{to:"/login"})},Z=a(20),$=function(e){var t=e.chosenECs,a=e.onUpdate;return e.ECs?Object(m.jsxs)("div",{className:"ex-chooser-wrapper",children:[Object(m.jsx)("h3",{children:"Select relevant extracurriculars"}),Object(m.jsx)("div",{className:"app-add-ec-chooser",children:e.ECs.map((function(e){return Object(m.jsx)("div",{className:"ec-chooser-item",onClick:function(n){if(t.includes(e)){n.target.className="ec-chooser-item";var r=Object(Z.a)(t),s=r.indexOf(e);r.splice(s,1),a(r)}else n.target.className="ec-chooser-item-selected",a([].concat(Object(Z.a)(t),[e]))},children:e.name},e._id)}))})]}):Object(m.jsx)("div",{})};function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.object({uniName:w.string().min(6).max(255).required().messages({"string.min":"University name must be at least 6 characters"}),programName:w.string().min(6).max(255).required(),applicationOpenDate:w.date().min(1).options({convert:!0}).required().messages({"date.min":"Please Enter a valid application open date"}),applicationCloseDate:w.date().min(6).options({convert:!0}).required().messages({"date.min":"Please Enter a valid application close date"}),expectedResponseDate:w.date().min(6).options({convert:!0}).messages({"date.min":"Please Enter a valid response date"}),relevantExtracurriculars:w.array(),notes:w.string().min(1).max(4096),includeAllExtraCurriculars:w.number()}),e.prev=1,e.next=4,a.validateAsync(t);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),C.a.error(e.t0.details[0].message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var ae=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),o=i[0],u=i[1],l=Object(n.useState)(0),p=Object(O.a)(l,2),j=p[0],d=p[1],b=Object(n.useState)(0),f=Object(O.a)(b,2),v=f[0],g=f[1],y=Object(n.useState)(0),k=Object(O.a)(y,2),w=k[0],N=k[1],C=Object(n.useState)([]),S=Object(O.a)(C,2),E=S[0],D=S[1],_=Object(n.useState)(""),A=Object(O.a)(_,2),P=A[0],F=A[1];return Object(m.jsx)("div",{className:"app-add-form-wrapper",children:Object(m.jsxs)("div",{className:"app-add-form",children:[Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"uniName",children:"University Name"}),Object(m.jsx)("input",{name:"uniName",onChange:function(e){s(e.target.value)},defaultValue:r})]}),Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"programName",children:"Program Name"}),Object(m.jsx)("input",{name:"programName",onChange:function(e){u(e.target.value)},defaultValue:o})]}),Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"appOpenDate",children:"Application Open Date"}),Object(m.jsx)("input",{type:"date",name:"appOpenDate",onChange:function(e){d(Date.parse(e.target.value))}})]}),Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"appCloseDate",children:"Application Close Date"}),Object(m.jsx)("input",{type:"date",name:"appCloseDate",onChange:function(e){g(Date.parse(e.target.value))}})]}),Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"responseDate",children:"Expected Response Date"}),Object(m.jsx)("input",{type:"date",name:"responseDate",onChange:function(e){N(Date.parse(e.target.value))}})]}),Object(m.jsxs)("div",{className:"app-add-input-item",children:[Object(m.jsx)("label",{htmlFor:"notes",children:"Extra Notes"}),Object(m.jsx)("textarea",{name:"notes",onChange:function(e){F(e.target.value)},defaultValue:P})]}),Object(m.jsx)("div",{className:"app-add-input-item",children:Object(m.jsx)($,{ECs:e.ECs,chosenECs:E,onUpdate:D})}),Object(m.jsx)("button",{className:"app-submit",onClick:Object(x.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={uniName:r,programName:o,applicationOpenDate:j,applicationCloseDate:v,expectedResponseDate:w,notes:P,relevantExtracurriculars:E},t.next=3,ee(a);case 3:if(!t.sent){t.next=8;break}return t.abrupt("return",e.onSubmit(a));case 8:return t.abrupt("return");case 9:case"end":return t.stop()}}),t)}))),children:"Submit"})]})})};function ne(){return(ne=Object(x.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("http://localhost:3000/extracurriculars",{headers:{user_auth_token:t}});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),C.a.error(e.t0.response),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function re(){return(re=Object(x.a)(h.a.mark((function e(t,a,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,e.next=4,y.a.post("http://localhost:3000/applications",a,{headers:{user_auth_token:t}});case 4:r=e.sent,n(r.data._id),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var se=function(e){var t=Object(n.useContext)(N).token,a=Object(n.useState)(),r=Object(O.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){(function(e){return ne.apply(this,arguments)})(t).then((function(e){return c(e)}))}),[t]),t?Object(m.jsx)(ae,{ECs:s,onSubmit:function(a){!function(e,t,a){re.apply(this,arguments)}(t,a,e.history.replace)}}):Object(m.jsx)(d.a,{to:"/login"})},ce=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(O.a)(c,2),o=i[0],u=i[1],l=Object(n.useState)(""),p=Object(O.a)(l,2),j=p[0],d=p[1];return 0===e.references.length?Object(m.jsxs)("div",{className:"reference-box-wrapper",children:[Object(m.jsx)("h3",{children:"No references provided"}),Object(m.jsxs)("div",{className:"reference-add-wrapper",children:[Object(m.jsx)("h5",{children:"Add References"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",placeholder:"John Smith"}),Object(m.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"email",placeholder:"johnsmith@email.com"}),Object(m.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"(123)-456-789"}),Object(m.jsx)("button",{onClick:function(){r&&e.setReferences([].concat(Object(Z.a)(e.references),[{name:r,email:o,phoneNumber:j}])),s(""),u(""),d("")},children:"Add Reference"})]})]})]}):Object(m.jsxs)("div",{className:"reference-box-wrapper",children:[Object(m.jsxs)("div",{className:"heading-wrapper",children:[Object(m.jsx)("span",{children:"Reference Name"}),Object(m.jsx)("span",{children:"Email"}),Object(m.jsx)("span",{children:"Phone Number"})]}),Object(m.jsx)("div",{className:"references-wrapper",children:e.references.map((function(t){return Object(m.jsxs)("div",{className:"reference-item",children:[Object(m.jsx)("span",{children:t.name}),Object(m.jsx)("span",{children:t.email||"No email provided"}),Object(m.jsx)("span",{children:t.phoneNumber||"No phone number provided"}),Object(m.jsx)("button",{onClick:function(){var a=e.references.findIndex((function(e){return e.name===t.name})),n=Object(Z.a)(e.references);n.splice(a,1),e.setReferences(n)},children:"X"})]},t.name+t.email+t.phoneNumber)}))}),Object(m.jsxs)("div",{className:"reference-add-wrapper",children:[Object(m.jsx)("h5",{children:"Add References"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",placeholder:"John Smith"}),Object(m.jsx)("input",{onChange:function(e){return u(e.target.value)},type:"email",placeholder:"johnsmith@email.com"}),Object(m.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"tel",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",placeholder:"(123)-456-789"}),Object(m.jsx)("button",{onClick:function(){r&&e.setReferences([].concat(Object(Z.a)(e.references),[{name:r,email:o,phoneNumber:j}])),s(""),u(""),d("")},children:"Add Reference"})]})]})]})},ie=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",description:"",dateStarted:0,dateEnded:0,onGoing:!1,references:[]},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"ec-create-form-wrapper",children:Object(m.jsxs)("div",{className:"ec-create-form",children:[Object(m.jsxs)("div",{className:"ec-input-wrapper",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Extracurricular Name"}),Object(m.jsx)("input",{name:"name",onChange:function(t){e.setState({name:t.target.value})}})]}),Object(m.jsxs)("div",{className:"ec-input-wrapper",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Extracurricular Description"}),Object(m.jsx)("textarea",{name:"description",onChange:function(t){e.setState({description:t.target.value})}})]}),Object(m.jsxs)("div",{className:"ec-input-wrapper",children:[Object(m.jsx)("label",{htmlFor:"dateStarted",children:"Start Date"}),Object(m.jsx)("input",{type:"date",name:"dateStarted",onChange:function(t){e.setState({dateStarted:Date.parse(t.target.value)})}})]}),Object(m.jsxs)("div",{className:"ec-input-wrapper",children:[Object(m.jsx)("label",{htmlFor:"dateEnded",children:"End Date"}),this.state.onGoing?Object(m.jsx)("input",{type:"date",disabled:!0,name:"dateEnded",onChange:function(t){e.setState({dateEnded:Date.parse(t.target.value)})}}):Object(m.jsx)("input",{type:"date",name:"dateEnded",onChange:function(t){e.setState({dateEnded:Date.parse(t.target.value)})}})]}),Object(m.jsx)("button",{onClick:function(){return e.setState({onGoing:!e.state.onGoing})},className:this.state.onGoing?"ec-ongoing-toggle-true":"ec-ongoing-toggle",children:"Ongoing?"}),Object(m.jsx)(ce,{setReferences:function(t){e.setState({references:t})},references:this.state.references}),Object(m.jsx)("button",{className:"submit-ec",onClick:Object(x.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e.state);case 2:t.sent&&e.props.onSubmit(e.state);case 4:case"end":return t.stop()}}),t)}))),children:"Submit"})]})})}}]),a}(n.Component);function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.object({name:w.string().min(6).max(255).required().messages({"string.max":"Please limit name to 255 characters.","string.required":"Please enter a name.","string.min":"Please enter a name."}),description:w.string().min(6).max(4096).required().messages({"string.max":"Please limit description to 4096 characters.","string.min":"Please enter a description.","string.required":"Please enter a description."}),dateStarted:w.date().min(1).options({convert:!0}).required(),dateEnded:w.date(),onGoing:w.boolean(),references:w.array()}),e.prev=1,e.next=4,a.validateAsync(t);case 4:return e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(1),C.a.error(e.t0.details[0].message),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function le(){return(le=Object(x.a)(h.a.mark((function e(t,a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,y.a.post("http://localhost:3000/extracurriculars",t,{headers:{user_auth_token:a}});case 4:n("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.a.error("There was an error uploading your extracurricular");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var pe=function(e){var t=Object(n.useContext)(N).token;return t?Object(m.jsx)("div",{className:"ec-create-page-wrapper",children:Object(m.jsx)(ie,{onSubmit:function(a){!function(e,t,a){le.apply(this,arguments)}(a,t,e.history.replace)}})}):Object(m.jsx)(d.a,{to:"/login"})},je=function(e){var t=Object(n.useContext)(N).token;return Object(m.jsxs)("div",{className:"essay-viewer",children:[Object(m.jsx)("button",{onClick:e.onClose,children:Object(m.jsx)(M.a,{})}),Object(m.jsx)("h2",{children:e.essay.title}),Object(m.jsx)("pre",{children:e.essay.body}),e.essay.targetSchool&&Object(m.jsxs)("h4",{children:["Target School: ",e.essay.targetSchool]}),Object(m.jsx)(j.b,{to:"/essays/edit/"+e.essay._id,children:"Edit"}),Object(m.jsx)("button",{className:"essay-delete",onClick:Object(x.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.delete("http://localhost:3000/essays/"+e.essay._id,{headers:{user_auth_token:t}});case 2:e.onDelete(e.essay._id),e.onClose();case 4:case"end":return a.stop()}}),a)}))),children:"Delete"})]})},de=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={essays:[],selectedEssay:void 0},e.closeViewer=function(){return e.setState({selectedEssay:void 0})},e.getEssays=Object(x.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("http://localhost:3000/essays",{headers:{user_auth_token:e.props.token}});case 3:a=t.sent,n=a.data,e.setState({essays:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.deleteEssay=function(t){var a=e.state.essays.findIndex((function(e){return e._id===t})),n=Object(Z.a)(e.state.essays);n.splice(a,1),e.setState({essays:n})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getEssays();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsxs)("div",{className:"essay-manager-wrapper",children:[this.state.essays.map((function(t){return Object(m.jsx)("div",{className:"essay-item",onClick:function(){return e.setState({selectedEssay:t})},children:t.title},t._id)})),Object(m.jsx)(j.b,{to:"/essays/add",children:"Add Essay"})]}),this.state.selectedEssay&&Object(m.jsx)(je,{onDelete:this.deleteEssay,onClose:this.closeViewer,essay:this.state.selectedEssay})]})}}]),a}(n.Component),be=function(e){var t=Object(n.useContext)(N).token;return Object(m.jsx)("div",{className:"pfp-wrapper",children:Object(m.jsx)(de,{token:t})})},he="http://localhost:3000",xe=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={title:"",body:"",targetSchool:""},e.submitEdit=Object(x.a)(h.a.mark((function t(){var a,n,r,s,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.title,r=a.body,s=a.targetSchool,c={title:n,body:r,targetSchool:s},t.prev=2,t.next=5,y.a.put(he+"/essays/"+e.props.match.params.id,c,{headers:{user_auth_token:e.props.token}});case 5:e.props.history.goBack(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])}))),e.submitNew=Object(x.a)(h.a.mark((function t(){var a,n,r,s,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.title,r=a.body,s=a.targetSchool,c={title:n,body:r,targetSchool:s},t.prev=2,t.next=5,y.a.post(he+"/essays",c,{headers:{user_auth_token:e.props.token}});case 5:e.props.history.goBack(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(he+"/essays/"+this.props.match.params.id,{headers:{user_auth_token:this.props.token}});case 3:t=e.sent,a=t.data,r=(n=a).title,s=n.body,c=n.targetSchool,this.setState({title:r,body:s,targetSchool:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C.a.error("Error fetching essay data");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.props.edit?Object(m.jsx)("div",{className:"essay-form-wrapper",children:Object(m.jsxs)("div",{className:"essay-form",children:[Object(m.jsxs)("div",{className:"essay-form-input",children:[Object(m.jsx)("label",{htmlFor:"title",children:"Essay Title"}),Object(m.jsx)("input",{type:"text",name:"title",defaultValue:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})]}),Object(m.jsxs)("div",{className:"essay-form-input",children:[Object(m.jsx)("label",{htmlFor:"body",children:"Essay Body"}),Object(m.jsx)("textarea",{name:"body",defaultValue:this.state.body,onChange:function(t){return e.setState({body:t.target.value})}})]}),Object(m.jsx)("button",{onClick:this.submitEdit,children:"Submit"})]})}):Object(m.jsx)("div",{className:"essay-form-wrapper",children:Object(m.jsxs)("div",{className:"essay-form",children:[Object(m.jsxs)("div",{className:"essay-form-input",children:[Object(m.jsx)("label",{htmlFor:"title",children:"Essay Title"}),Object(m.jsx)("input",{type:"text",name:"title",onChange:function(t){return e.setState({title:t.target.value})}})]}),Object(m.jsxs)("div",{className:"essay-form-input",children:[Object(m.jsx)("label",{htmlFor:"targetSchool",children:"Target School"}),Object(m.jsx)("input",{type:"text",name:"targetSchool",onChange:function(t){return e.setState({targetSchool:t.target.value})}})]}),Object(m.jsxs)("div",{className:"essay-form-input",children:[Object(m.jsx)("label",{htmlFor:"body",children:"Essay Body"}),Object(m.jsx)("textarea",{name:"body",onChange:function(t){return e.setState({body:t.target.value})}})]}),Object(m.jsx)("button",{onClick:this.submitNew,children:"Submit"})]})})}}]),a}(n.Component),Oe=function(e){var t=Object(n.useContext)(N).token;return Object(m.jsx)(j.a,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/essays/edit/:id",render:function(e){return Object(m.jsx)(xe,Object(i.a)(Object(i.a)({},e),{},{token:t,edit:!0}))}}),Object(m.jsx)(d.b,{path:"/essays/add",render:function(e){return Object(m.jsx)(xe,Object(i.a)(Object(i.a)({},e),{},{token:t,edit:!1}))}})]})})},me=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={token:""},e.setToken=function(t){e.setState({token:t})},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(m.jsx)(N.Provider,{value:{token:this.state.token,setToken:this.setToken},children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/extracurriculars/add",render:function(e){return Object(m.jsx)(pe,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/applications/add",render:function(e){return Object(m.jsx)(se,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/applications/:id",render:function(e){return Object(m.jsx)(z,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/extracurriculars/:id",render:function(e){return Object(m.jsx)(W,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/login",render:function(e){return Object(m.jsx)(_,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/signup",render:function(e){return Object(m.jsx)(R,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/essays",render:function(e){return Object(m.jsx)(Oe,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/profile",render:function(e){return Object(m.jsx)(be,Object(i.a)({},e))}}),Object(m.jsx)(d.b,{path:"/",render:function(e){return Object(m.jsx)(L,Object(i.a)({},e))}})]})})})}}]),a}(n.Component);a(99);c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(me,{})}),document.getElementById("root"))},99:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.0e3c582e.chunk.js.map